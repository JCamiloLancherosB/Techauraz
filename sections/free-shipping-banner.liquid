{% comment %}
  Free Shipping / Contra Entrega Banner
  Este snippet puede incluirse en el header o en cualquier secci칩n
  Uso: {% render 'free-shipping-banner' %}
{% endcomment %}

<div class="free-shipping-banner{% if section.settings.enable_sticky %} free-shipping-banner--sticky{% endif %}" data-free-shipping-banner>
  <div class="free-shipping-banner__container page-width">
    <div class="free-shipping-banner__content">
      <span class="free-shipping-banner__icon" aria-hidden="true">游뚴</span>
      <span class="free-shipping-banner__text">
        <strong>Env칤o gratis</strong> en pedidos &gt; ${{ section.settings.free_shipping_threshold | default: 100000 | money_without_currency }}
        {% if section.settings.show_contraentrega %}
        | <strong>Entrega r치pida</strong>
        {% endif %}
      </span>
    </div>
  </div>
</div>

<style>
.free-shipping-banner {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  color: #ffffff;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  position: relative;
  z-index: 100;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.free-shipping-banner::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

@media (prefers-reduced-motion: reduce) {
  .free-shipping-banner::before {
    animation: none;
  }
}

.free-shipping-banner--sticky {
  position: sticky;
  top: 0;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
}

.free-shipping-banner__container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.free-shipping-banner__content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 0.875rem 0;
  position: relative;
  z-index: 1;
}

.free-shipping-banner__icon {
  font-size: 1.25rem;
  animation: bounce 2s ease-in-out infinite;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@media (prefers-reduced-motion: reduce) {
  .free-shipping-banner__icon {
    animation: none;
  }
}

.free-shipping-banner__text {
  letter-spacing: 0.025em;
  line-height: 1.4;
}

.free-shipping-banner__text strong {
  font-weight: 700;
  text-transform: uppercase;
}

/* Responsive */
@media screen and (max-width: 749px) {
  .free-shipping-banner {
    font-size: 0.8125rem;
  }

  .free-shipping-banner__content {
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.75rem 0;
  }

  .free-shipping-banner__icon {
    font-size: 1.125rem;
  }
}

@media screen and (max-width: 480px) {
  .free-shipping-banner {
    font-size: 0.75rem;
  }
}
</style>

{% schema %}
{
  "name": "Banner Env칤o Gratis",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_sticky",
      "label": "Fijar banner al hacer scroll",
      "default": false,
      "info": "El banner permanecer치 visible en la parte superior al hacer scroll"
    },
    {
      "type": "checkbox",
      "id": "show_contraentrega",
      "label": "Mostrar opci칩n de pago contra entrega",
      "default": true
    },
    {
      "type": "number",
      "id": "free_shipping_threshold",
      "label": "Monto m칤nimo para env칤o gratis (COP)",
      "default": 100000,
      "info": "Monto en pesos colombianos"
    }
  ],
  "presets": [
    {
      "name": "Banner Env칤o Gratis"
    }
  ]
}
{% endschema %}
