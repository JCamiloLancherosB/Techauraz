{% comment %}
  Free Shipping / Contra Entrega Banner
  Este snippet puede incluirse en el header o en cualquier secci√≥n
  Uso: {% render 'free-shipping-banner' %}
{% endcomment %}

<div class="free-shipping-banner{% if section.settings.enable_sticky %} free-shipping-banner--sticky{% endif %}" data-free-shipping-banner>
  <div class="free-shipping-banner__container page-width">
    <div class="free-shipping-banner__content">
      <span class="free-shipping-banner__icon" aria-hidden="true">üöö</span>
      <span class="free-shipping-banner__text">
        <strong>ENV√çO GRATIS</strong> en compras superiores a ${{ section.settings.free_shipping_threshold | default: 100000 | money_without_currency }} 
        {% if section.settings.show_contraentrega %}
        | <strong>üíµ Pago Contra Entrega</strong> disponible
        {% endif %}
      </span>
      <span class="free-shipping-banner__icon" aria-hidden="true">üì¶</span>
    </div>
  </div>
</div>

<style>
.free-shipping-banner {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #ffffff;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  position: relative;
  z-index: 10;
  overflow: hidden;
}

.free-shipping-banner::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

@media (prefers-reduced-motion: reduce) {
  .free-shipping-banner::before {
    animation: none;
  }
}

.free-shipping-banner--sticky {
  position: sticky;
  top: 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.free-shipping-banner__container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.free-shipping-banner__content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 0.75rem 0;
  position: relative;
  z-index: 1;
}

.free-shipping-banner__icon {
  font-size: 1.25rem;
  animation: bounce 2s ease-in-out infinite;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@media (prefers-reduced-motion: reduce) {
  .free-shipping-banner__icon {
    animation: none;
  }
}

.free-shipping-banner__text {
  letter-spacing: 0.025em;
}

.free-shipping-banner__text strong {
  font-weight: 700;
}

/* Responsive */
@media screen and (max-width: 749px) {
  .free-shipping-banner {
    font-size: 0.8125rem;
  }

  .free-shipping-banner__content {
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.625rem 0;
  }

  .free-shipping-banner__icon {
    font-size: 1.125rem;
  }
}

@media screen and (max-width: 480px) {
  .free-shipping-banner {
    font-size: 0.75rem;
  }

  .free-shipping-banner__icon:last-child {
    display: none;
  }
}
</style>

{% schema %}
{
  "name": "Banner Env√≠o Gratis",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_sticky",
      "label": "Fijar banner al hacer scroll",
      "default": false,
      "info": "El banner permanecer√° visible en la parte superior al hacer scroll"
    },
    {
      "type": "checkbox",
      "id": "show_contraentrega",
      "label": "Mostrar opci√≥n de pago contra entrega",
      "default": true
    },
    {
      "type": "number",
      "id": "free_shipping_threshold",
      "label": "Monto m√≠nimo para env√≠o gratis (COP)",
      "default": 100000,
      "info": "Monto en pesos colombianos"
    }
  ],
  "presets": [
    {
      "name": "Banner Env√≠o Gratis"
    }
  ]
}
{% endschema %}
