/* =============================================================================
   CARD CLICKABLE FIX - Full Area Click Support
   =============================================================================
   Version: 1.0.0
   Date: 2024-12-21
   
   Fixes:
   - Makes entire product card clickable (not just title)
   - Improves title text display (no unwanted truncation)
   - Maintains button/quick-add interactivity
   ============================================================================= */

/* =============================================================================
   FULL CARD CLICKABLE LINK
   ============================================================================= */

.card-wrapper {
  position: relative;
  cursor: pointer;
}

/* Overlay link covering entire card */
.card-wrapper__link--overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  text-decoration: none;
  background: transparent;
  border-radius: 12px;
}

/* Focus state for keyboard navigation */
.card-wrapper__link--overlay:focus-visible {
  outline: 2px solid #fbbf24;
  outline-offset: 3px;
  border-radius: 14px;
}

/* Ensure buttons and interactive elements are clickable above overlay */
.card-wrapper .quick-add,
.card-wrapper .card__badge,
.card-wrapper button,
.card-wrapper input,
.card-wrapper select,
.card-wrapper [type="submit"],
.card-wrapper .quantity,
.card-wrapper .modal-opener,
.card-wrapper form {
  position: relative;
  z-index: 2;
}

/* Title link also above overlay for SEO */
.card-wrapper .card__heading a,
.card-wrapper .card__heading .full-unstyled-link {
  position: relative;
  z-index: 2;
}

/* =============================================================================
   TITLE TEXT IMPROVEMENTS - Prevent Unwanted Truncation
   ============================================================================= */

/* Desktop: Show up to 3 lines */
.card__heading {
  margin-bottom: 0.5rem;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  min-height: auto;
}

/* Override any existing max-height without !important */
.card-wrapper .card__heading {
  max-height: none;
}

.card__heading .full-unstyled-link {
  color: #fef3c7;
  font-weight: 600;
  font-size: 1.55rem;
  line-height: 1.4;
  display: block;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  transition: color 0.25s ease;
}

/* Hover color change */
.card-wrapper:hover .card__heading .full-unstyled-link {
  color: #fbbf24;
}

/* Mobile: 2 lines to save space */
@media screen and (max-width: 749px) {
  .card__heading {
    -webkit-line-clamp: 2;
  }
  
  .card__heading .full-unstyled-link {
    font-size: 1.4rem;
  }
}

/* Tablet: 2-3 lines */
@media screen and (min-width: 750px) and (max-width: 989px) {
  .card__heading {
    -webkit-line-clamp: 2;
  }
  
  .card__heading .full-unstyled-link {
    font-size: 1.5rem;
  }
}

/* Large desktop: Full 3 lines */
@media screen and (min-width: 990px) {
  .card__heading {
    -webkit-line-clamp: 3;
  }
  
  .card__heading .full-unstyled-link {
    font-size: 1.6rem;
  }
}

/* =============================================================================
   DESCRIPTION TEXT - Consistent Display
   ============================================================================= */

.card__description {
  font-size: 1.3rem;
  line-height: 1.5;
  color: rgba(226, 232, 240, 0.75);
  margin: 0.3rem 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Override any existing max-height */
.card-wrapper .card__description {
  max-height: none;
}

@media screen and (max-width: 749px) {
  .card__description {
    font-size: 1.2rem;
    -webkit-line-clamp: 2;
  }
}

/* =============================================================================
   PRICE DISPLAY - Always Visible
   ============================================================================= */

.card .price {
  margin-top: auto;
  padding-top: 0.5rem;
}

.card .price-item--regular {
  color: #10b981;
  font-weight: 700;
  font-size: 1.7rem;
}

.card .price-item--sale {
  color: rgba(226, 232, 240, 0.5);
  text-decoration: line-through;
  font-size: 1.3rem;
}

@media screen and (max-width: 749px) {
  .card .price-item--regular {
    font-size: 1.5rem;
  }
}

/* =============================================================================
   HOVER EFFECTS - Enhanced Feedback
   ============================================================================= */

/* Card lift on hover */
.card-wrapper:hover .card {
  transform: translateY(-4px);
  border-color: rgba(251, 191, 36, 0.5);
  box-shadow: 0 12px 28px rgba(251, 191, 36, 0.2);
}

/* Image zoom on hover */
.card-wrapper:hover .card__media img {
  transform: scale(1.05);
}

.card__media img {
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* =============================================================================
   ACCESSIBILITY
   ============================================================================= */

/* Screen reader text is handled by existing .visually-hidden class */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card-wrapper__link--overlay:focus-visible {
    outline-width: 3px;
  }
  
  .card__heading .full-unstyled-link {
    color: #ffffff;
  }
}
