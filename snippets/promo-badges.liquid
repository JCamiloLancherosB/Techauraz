{% comment %}
  Renders promotional badges for product pages
  
  Accepts:
  - show_discount: {Boolean} Show 15% OFF badge
  - show_free_shipping: {Boolean} Show free shipping badge
  - show_cod: {Boolean} Show cash on delivery badge
  - show_warranty: {Boolean} Show 15 days warranty badge
  - show_low_stock: {Boolean} Show low stock badge
  - badge_style: {String} Style variant (default, compact)

  Usage:
  {% render 'promo-badges', 
    show_discount: true, 
    show_free_shipping: true, 
    show_cod: true, 
    show_warranty: true,
    show_low_stock: false 
  %}
{% endcomment %}

{%- liquid
  assign show_discount = show_discount | default: true
  assign show_free_shipping = show_free_shipping | default: true
  assign show_cod = show_cod | default: true
  assign show_warranty = show_warranty | default: true
  assign show_low_stock = show_low_stock | default: false
  assign badge_style = badge_style | default: 'default'
-%}

<div class="promo-badges promo-badges--{{ badge_style }}">
  {%- if show_discount -%}
    <span class="promo-badge promo-badge--discount" aria-label="15% de descuento">
      <svg class="promo-badge__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M8 0L10.1 5.9L16 8L10.1 10.1L8 16L5.9 10.1L0 8L5.9 5.9L8 0Z" fill="currentColor"/>
      </svg>
      15% OFF
    </span>
  {%- endif -%}
  
  {%- if show_free_shipping -%}
    <span class="promo-badge promo-badge--shipping" aria-label="Envío gratis">
      <svg class="promo-badge__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M0 2.5A1.5 1.5 0 011.5 1H11a1.5 1.5 0 011.5 1.5v7a1.5 1.5 0 01-1.5 1.5h-.5v1.5a1 1 0 01-1 1h-1a1 1 0 01-1-1V11H5v1.5a1 1 0 01-1 1H3a1 1 0 01-1-1V11h-.5A1.5 1.5 0 010 9.5v-7zm3.5 7.5a1 1 0 100 2 1 1 0 000-2zm5 0a1 1 0 100 2 1 1 0 000-2z" fill="currentColor"/>
      </svg>
      Envío gratis
    </span>
  {%- endif -%}
  
  {%- if show_cod -%}
    <span class="promo-badge promo-badge--cod" aria-label="Pago contra entrega">
      <svg class="promo-badge__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm1-9H7v2H5v2h2v2h2v-2h2V7H9V5z" fill="currentColor"/>
      </svg>
      Pago contra entrega
    </span>
  {%- endif -%}
  
  {%- if show_warranty -%}
    <span class="promo-badge promo-badge--warranty" aria-label="Garantía de 15 días">
      <svg class="promo-badge__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M8 0L1 3v5c0 4.4 3 8.5 7 10 4-1.5 7-5.6 7-10V3l-7-3zm4.5 6.5L7 12 4.5 9.5l1-1L7 10l4.5-4.5 1 1z" fill="currentColor"/>
      </svg>
      Garantía 15 días
    </span>
  {%- endif -%}
  
  {%- if show_low_stock -%}
    <span class="promo-badge promo-badge--urgency" aria-label="Pocas unidades disponibles">
      <svg class="promo-badge__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M8 0L10.5 5.5L16 8L10.5 10.5L8 16L5.5 10.5L0 8L5.5 5.5L8 0Z" fill="currentColor"/>
      </svg>
      Pocas unidades
    </span>
  {%- endif -%}
</div>

<style>
  .promo-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin: 16px 0;
  }

  .promo-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 0.813rem;
    font-weight: 600;
    line-height: 1.4;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .promo-badge:hover {
    transform: translateY(-1px);
  }

  .promo-badge__icon {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
  }

  .promo-badge--discount {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
  }

  .promo-badge--shipping {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
  }

  .promo-badge--cod {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
  }

  .promo-badge--warranty {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
  }

  .promo-badge--urgency {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
    animation: pulse-badge 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-badge {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.85;
    }
  }

  /* Compact variant */
  .promo-badges--compact .promo-badge {
    padding: 4px 8px;
    font-size: 0.75rem;
    gap: 4px;
  }

  .promo-badges--compact .promo-badge__icon {
    width: 14px;
    height: 14px;
  }

  /* Mobile responsive */
  @media screen and (max-width: 749px) {
    .promo-badges {
      gap: 6px;
    }
    
    .promo-badge {
      padding: 5px 10px;
      font-size: 0.75rem;
    }
    
    .promo-badge__icon {
      width: 14px;
      height: 14px;
    }
  }

  /* Accessibility */
  @media (prefers-reduced-motion: reduce) {
    .promo-badge,
    .promo-badge--urgency {
      animation: none;
      transition: none;
    }
    
    .promo-badge:hover {
      transform: none;
    }
  }
</style>
